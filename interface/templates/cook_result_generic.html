{% extends 'base.html' %}
{% block contents %}
{% load static %}
  <section class="hot_section layout_padding">
    <div class="container">
      <div class="heading_container">
        <h2 style="font-family: Pretendard-ExtraBold; font-size: 45px;">
          추천 레시피 생성
        </h2>
        <hr>
      </div>
      <p style="font-family: Pretendard-Regular; font-size: 27px; margin-bottom: 40px;">
        <br>
        레시피 생성이 완료되었습니다.
        <br>
        마음에 드는 레시피를 선택해주세요.
        <br>
      </p>
    </div>
  </section>
 



    <div class="recipe-container" id="recipe1">
      <div class="recipe-header">
          <h1>{{ recipe.name }}</h1>
      </div>
      
      <div class="recipe-content">
          <div class="recipe-image">
              <img src="{% static recipe.image %}" alt="{{ recipe.name }} 사진">
          </div>
          
          <div class="recipe-info">
              <h2>재료</h2>
              <ul>
                {% for ingredient in recipe.ingredients %}
                  <li>{{ ingredient }}</li>
                {% endfor %}
              </ul>
          </div>
      </div>
  
      <div class="recipe-instructions">
          <h2>조리 과정</h2>
          <ol>
            {% for instruction in recipe.instructions %}
              <li>{{ instruction|safe }}</li>
            {% endfor %}
          </ol>
      </div>
  
      <div class="recipe-tip">
          <h2>TIP</h2>
          <ul>
            {% for tip in recipe.tips %}
              <li>{{ tip }}</li>
            {% endfor %}
          </ul>
      </div>

      <div class="arrow-left" onclick="previousRecipe()">
        &#9664; <!-- 왼쪽 화살표 -->
      </div>
      
      <div class="arrow-right" onclick="nextRecipe()">
        &#9654; <!-- 오른쪽 화살표 -->
      </div>
    </div>

<script>

const recipeContainers = document.querySelectorAll('.recipe-container');
let currentRecipeIndex = 0;

function showRecipe(index) {
    recipeContainers[currentRecipeIndex].classList.add('fade-out');
    
    setTimeout(() => {
        // 이전 레시피 숨기기
        recipeContainers[currentRecipeIndex].style.display = 'none';
        recipeContainers[currentRecipeIndex].classList.remove('fade-out');

        // 새로운 레시피 보이기
        currentRecipeIndex = index;
        recipeContainers[currentRecipeIndex].style.display = 'block';
        recipeContainers[currentRecipeIndex].classList.add('fade-in');
    }, 500);  // 0.5초 후 페이드 인 전환
}

function previousRecipe() {
    const newIndex = (currentRecipeIndex === 0) ? recipeContainers.length - 1 : currentRecipeIndex - 1;
    showRecipe(newIndex);
}

function nextRecipe() {
    const newIndex = (currentRecipeIndex === recipeContainers.length - 1) ? 0 : currentRecipeIndex + 1;
    showRecipe(newIndex);
}

// 초기 설정
document.addEventListener('DOMContentLoaded', () => {
    recipeContainers.forEach((container, index) => {
        if (index !== currentRecipeIndex) {
            container.style.display = 'none';
        }
    });
});




</script>


<script>

function showRecipe(index) {
    // 슬라이드 아웃 현재 레시피
    recipeContainers[currentRecipeIndex].classList.add('slide-out-left');
    
    setTimeout(() => {
        recipeContainers[currentRecipeIndex].style.display = 'none';
        recipeContainers[currentRecipeIndex].classList.remove('slide-out-left');

        // 슬라이드 인 새로운 레시피
        currentRecipeIndex = index;
        recipeContainers[currentRecipeIndex].style.display = 'block';
        recipeContainers[currentRecipeIndex].classList.add('slide-in-right');
    }, 500);  // 슬라이드 아웃 후 슬라이드 인 적용
}

</script>

{% endblock %}